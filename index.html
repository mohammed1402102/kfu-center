<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مركز الجبيل 1 - جامعة الملك فيصل</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        :root {
            --gold: #c79c48;
            --teal: #0b6a70;
            --light-bg: #f5f5f5;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: var(--light-bg);
            margin: 0;
        }

        /* ================= الشريط العلوي ================= */
        .header-bar {
            position: relative;
            background: linear-gradient(135deg, #0b6a70, #145c63);
            color: #fff;
            padding: 22px 25px 26px;
            text-align: center;
        }

        .header-title-row {
            font-size: 2.2rem;
            font-weight: 800;
            display: flex;
            justify-content: center;
            gap: 45px;
            flex-wrap: wrap;
        }

        .datetime-row {
            margin-top: 12px;
            font-size: 1.65rem;
            font-weight: 700;
            display: flex;
            justify-content: center;
            gap: 22px;
            flex-wrap: wrap;
        }

        /* شعار الجامعة */
        .logo-wrapper {
            position: absolute;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
        }
        .logo-wrapper img {
            height: 95px;
        }

        /* ========== الإطار الذهبي ========== */
        .page-wrapper {
            max-width: 1100px;
            margin: 30px auto;
            padding: 0 15px;
            position: relative;
        }

        .content {
            background: #fff;
            padding: 28px;
            border-radius: 20px;
            border: 3px solid var(--gold);
        }

        /* ============= صندوق المراقب ============= */
        .proctor-box {
            position: absolute;
            right: -320px; /* خارج الإطار الذهبي بمسافة مريحة */
            top: 0;
            width: 240px;
            padding: 16px;
            border-radius: 14px;
            background: #fff;
            border: 3px solid var(--teal);
            text-align: center;
            box-shadow: 0 0 10px rgba(0,0,0,0.15);
        }

        .proctor-title {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--teal);
        }

        .proctor-number-display {
            margin-top: 8px;
            padding: 18px 0;
            border: 2px solid var(--teal);
            border-radius: 12px;
            font-size: 2.6rem;
            font-weight: 900;
            color: var(--teal);
            background: #fafafa;
            letter-spacing: 3px;
        }

        .proctor-box select {
            margin-top: 10px;
            width: 95%;
            padding: 8px;
            border-radius: 10px;
            border: 2px solid var(--teal);
            font-size: 1.8rem;
        }

        /* ============= التبويبات داخل الإطار ============= */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-btn {
            padding: 8px 20px;
            border-radius: 20px;
            border: 2px solid var(--teal);
            background: #fff;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--teal);
            cursor: pointer;
        }

        .tab-btn.active {
            background: var(--teal);
            color: #fff;
        }

        /* ============= تبويب المقررات ============= */
        .select-container {
            margin-bottom: 20px;
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--teal);
        }

        .select-container select {
            padding: 6px 10px;
            font-size: 1.4rem;
            border: 2px solid var(--teal);
            border-radius: 10px;
        }

        .courses-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 22px 28px;
        }

        .course-box {
            border: 2px solid var(--teal);
            padding: 16px 18px;
            border-radius: 14px;
            background: #fafafa;
        }

        .course-box label {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--teal);
            margin-bottom: 3px;
        }

        .line {
            border-bottom: 2px solid black;
            min-height: 40px;
            display: flex;
            align-items: center;
            padding-right: 6px;
        }

        .editable {
            font-size: 1.8rem;
            font-weight: 800;
            outline: none;
        }

        .blue-text { color: #0040ff; }
        .red-text { color: #b30000; }

        /* ============= تبويب التعليمات ============= */
        .instructions-panel {
            display: none;
        }

        .instructions-card {
            border: 2px solid #b5d6d8;
            background: #e9f6f7;
            border-radius: 14px;
            padding: 24px 26px;
            font-size: 1.4rem;
            line-height: 1.7;
            color: #0b6a70;
        }

        .instructions-card b {
            font-size: 1.6rem;
            display: block;
            margin-bottom: 10px;
        }

        .closing {
            display: block;
            margin-top: 10px;
            text-align: center;
            font-weight: 700;
        }
    </style>
</head>

<body>

<header class="header-bar">
    <div class="header-title-row">
        <span>اسم المركز: الجبيل ١</span>
        <span>رمز مركز الاختبار: ٣١٠١</span>
    </div>

    <div class="datetime-row">
        <span id="dayName"></span>
        <span id="hijriDate"></span>
        <span id="gregDate"></span>
        <span id="timeValue"></span>
    </div>

    <div class="logo-wrapper">
        <img src="KFU_logo_white.png" alt="">
    </div>
</header>

<div class="page-wrapper">

    <!-- صندوق المراقب -->
    <div class="proctor-box">
        <div class="proctor-title">رمز المراقب</div>
        <div id="proctorDisplay" class="proctor-number-display">--</div>

        <select id="proctorCodeSelect">
            <option value="">اختر</option>
            <option value="٠١">٠١</option>
            <option value="٠٢">٠٢</option>
            <option value="٠٣">٠٣</option>
            <option value="٠٤">٠٤</option>
            <option value="٠٥">٠٥</option>
            <option value="٠٦">٠٦</option>
            <option value="٠٧">٠٧</option>
            <option value="٠٨">٠٨</option>
            <option value="٠٩">٠٩</option>
            <option value="١٠">١٠</option>
            <option value="١١">١١</option>
            <option value="١٢">١٢</option>
            <option value="١٣">١٣</option>
            <option value="١٤">١٤</option>
            <option value="١٥">١٥</option>
            <option value="١٦">١٦</option>
            <option value="١٧">١٧</option>
            <option value="١٨">١٨</option>
            <option value="١٩">١٩</option>
            <option value="٢٠">٢٠</option>
            <option value="٢١">٢١</option>
            <option value="٢٢">٢٢</option>
            <option value="٢٣">٢٣</option>
            <option value="٢٤">٢٤</option>
            <option value="٢٥">٢٥</option>
            <option value="٢٦">٢٦</option>
            <option value="٢٧">٢٧</option>
            <option value="٢٨">٢٨</option>
            <option value="٢٩">٢٩</option>
            <option value="٣٠">٣٠</option>
        </select>
    </div>

    <div class="content">

        <!-- التبويبات -->
        <div class="tabs">
            <button id="tabMainBtn" class="tab-btn active">المقررات</button>
            <button id="tabInstructionsBtn" class="tab-btn">التعليمات</button>
        </div>

        <!-- تبويب المقررات -->
        <div id="mainPanel">
            <div class="select-container">
                عدد المقررات:
                <select id="coursesCountSelect">
                    <option value="1">١</option>
                    <option value="2">٢</option>
                    <option value="3">٣</option>
                    <option value="4" selected>٤</option>
                </select>
            </div>

            <div class="courses-grid">
                <div class="course-box">
                    <label>اسم المقرر:</label>
                    <div class="line editable red-text" contenteditable="true"></div>

                    <label>CRN :</label>
                    <div class="line editable blue-text" contenteditable="true"></div>

                    <label>أستاذ المقرر :</label>
                    <div class="line editable" contenteditable="true"></div>
                </div>

                <div class="course-box">
                    <label>اسم المقرر:</label>
                    <div class="line editable red-text" contenteditable="true"></div>

                    <label>CRN :</label>
                    <div class="line editable blue-text" contenteditable="true"></div>

                    <label>أستاذ المقرر :</label>
                    <div class="line editable" contenteditable="true"></div>
                </div>

                <div class="course-box">
                    <label>اسم المقرر:</label>
                    <div class="line editable red-text" contenteditable="true"></div>

                    <label>CRN :</label>
                    <div class="line editable blue-text" contenteditable="true"></div>

                    <label>أستاذ المقرر :</label>
                    <div class="line editable" contenteditable="true"></div>
                </div>

                <div class="course-box">
                    <label>اسم المقرر:</label>
                    <div class="line editable red-text" contenteditable="true"></div>

                    <label>CRN :</label>
                    <div class="line editable blue-text" contenteditable="true"></div>

                    <label>أستاذ المقرر :</label>
                    <div class="line editable" contenteditable="true"></div>
                </div>
            </div>
        </div>

        <!-- تبويب التعليمات -->
        <div id="instructionsPanel" class="instructions-panel">
            <div class="instructions-card">
                <b>عزيزي الطالب/ عزيزتي الطالبة:</b>
                السلام عليكم ورحمة الله وبركاته<br><br>
                تؤكد عمادة التعلم الإلكتروني وتقنية المعلومات بجامعة الملك فيصل على أبنائها طلبة برامج التعلم الإلكتروني
                والتعليم عن بُعد مراعاة الالتزام بالأنظمة والتعليمات الخاصة بحسن سير الاختبارات، ومنع حيازة أو استخدام
                الجوال أو السماعات أو الساعات الذكية أو النظارات الذكية أو الأقلام وغيرها من الأجهزة الإلكترونية داخل
                قاعة الاختبار، علماً بأن العمادة تستخدم أجهزة الكشف عن الأجهزة الإلكترونية. وفي حال حيازة أو استخدام أي
                منها في فترة انعقاد الاختبار فإنه يعد مخالفة لتعليمات الاختبار وتُقيَّد مخالفة نظامية بحق الطالب، ويُعطى
                العقوبة المناسبة وفقاً للوائح والأنظمة.<br>
                <span class="closing">مع رجائنا للجميع بالنجاح والتوفيق.</span>
            </div>
        </div>

    </div>
</div>

<script>
    /* تغيير عدد المقررات */
    const selectCourses = document.getElementById("coursesCountSelect");
    const boxes = document.querySelectorAll(".course-box");

    function updateCoursesCount() {
        const count = Number(selectCourses.value);
        boxes.forEach((box, index) => {
            box.style.display = index < count ? "block" : "none";
        });
    }
    updateCoursesCount();
    selectCourses.addEventListener("change", updateCoursesCount);

    /* عرض رقم المراقب بدون تكرار */
    const proctorSelect = document.getElementById("proctorCodeSelect");
    const proctorDisplay = document.getElementById("proctorDisplay");

    proctorSelect.addEventListener("change", function () {
        proctorDisplay.textContent = this.value || "--";
        this.selectedIndex = 0;   // يرجع القائمة إلى "اختر" بعد الاختيار
    });

    /* التبويبات */
    const tabMainBtn = document.getElementById("tabMainBtn");
    const tabInstructionsBtn = document.getElementById("tabInstructionsBtn");
    const mainPanel = document.getElementById("mainPanel");
    const instructionsPanel = document.getElementById("instructionsPanel");

    tabMainBtn.addEventListener("click", () => {
        tabMainBtn.classList.add("active");
        tabInstructionsBtn.classList.remove("active");
        mainPanel.style.display = "block";
        instructionsPanel.style.display = "none";
    });

    tabInstructionsBtn.addEventListener("click", () => {
        tabInstructionsBtn.classList.add("active");
        tabMainBtn.classList.remove("active");
        mainPanel.style.display = "none";
        instructionsPanel.style.display = "block";
    });

    /* التاريخ والوقت */
    function toArabicIndic(str) {
        const map = ['٠','١','٢','٣','٤','٥','٦','٧','٨','٩'];
        return String(str).replace(/[0-9]/g, d => map[d]);
    }

    function updateDateTime() {
        const now = new Date();
        const days = ["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"];
        document.getElementById("dayName").textContent = "اليوم: " + days[now.getDay()];

        // هجري
        try {
            const hijri = new Intl.DateTimeFormat("ar-SA-u-ca-islamic-umalqura", {
                day: "2-digit",
                month: "2-digit",
                year: "numeric"
            }).format(now);
            document.getElementById("hijriDate").textContent = "الهجري: " + hijri + " هـ";
        } catch {
            document.getElementById("hijriDate").textContent = "الهجري: ـــ";
        }

        // ميلادي
        const dd = now.getDate().toString().padStart(2,"0");
        const mm = (now.getMonth()+1).toString().padStart(2,"0");
        const yy = now.getFullYear();
        document.getElementById("gregDate").textContent =
            "الميلادي: " + toArabicIndic(dd)+" / "+toArabicIndic(mm)+" / "+toArabicIndic(yy);

        // الوقت
        let h = now.getHours();
        let m = now.getMinutes().toString().padStart(2,"0");
        const ampm = h >= 12 ? "م" : "ص";
        h = h % 12 || 12;
        document.getElementById("timeValue").textContent =
            "الوقت: " + toArabicIndic(h)+":"+toArabicIndic(m)+" "+ampm;
    }

    updateDateTime();
    setInterval(updateDateTime, 1000);
</script>

</body>
</html>
